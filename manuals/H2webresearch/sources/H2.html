<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>H2 Database Performance - the JPA Benchmark</title>
<meta name='description' content='Summary of H2 performance in the JPA database benchmark.'/>
<meta name='robots' content='noarchive'/><meta name='keywords' content='jpa, database, performance, benchmark, slow, slower, fast, faster, boost, cache, tuning, speed, comparison, vs'/>
<link type='text/css' rel='stylesheet' href='/style3.css'>
<link rel='SHORTCUT ICON' href='/img/logo.ico'>
</head>
<body id='general'>
<!--[if IE]><div id='IE'><![endif]--><!--[if IE 6]><div id='IE6'><![endif]--><!--[if IE 7]><div id='IE7'><![endif]--><div id='page'>

<div id='header'>
<div id='logo'></div><div id='share' class='addthis_toolbox addthis_default_style'><a class='addthis_button_facebook'></a><a class='addthis_button_twitter'></a><a class='addthis_button_compact'></a></div><ul id='nav'><li><a id='active-nav' href='/'>Benchmark</a></li><li><a href='/All/All/All.html'>Results</a></li><li><a href='/Hibernate/MySQL/server/ObjectDB/ObjectDB/embedded.html'>Comparison</a></li></ul><h1><a href='/'>JPA Performance Benchmark (JPAB)</a></h1>
</div>

<div id='main'>
<div id='menu'><h2>Benchmark</h2><ul><li><a href='/Home.html'>Home</a></li><li><a href='/Benchmark_FAQ.html'>Benchmark FAQ</a></li><li><a href='/Test_Description.html'>Test Description</a></li><li><a href='/Running_and_Results.html'>Running and Results</a></li><li><a href='/Download.html'>Download</a></li><li><a href='/Change_Log.html'>Change Log</a></li></ul><h2>JPA Providers</h2><ul><li><a href='/DataNucleus.html'>DataNucleus</a></li><li><a href='/EclipseLink.html'>EclipseLink</a></li><li><a href='/Hibernate.html'>Hibernate</a></li><li><a href='/ObjectDB.html'>ObjectDB</a></li><li><a href='/OpenJPA.html'>OpenJPA</a></li></ul><h2>Databases (DBMS)</h2><ul><li><a href='/DB4O.html'>DB4O</a></li><li><a href='/Derby.html'>Derby</a></li><li class='active'><a href='/H2.html'>H2</a></li><li><a href='/HSQLDB.html'>HSQLDB</a></li><li><a href='/MySQL.html'>MySQL</a></li><li><a href='/ObjectDB.html'>ObjectDB</a></li><li><a href='/PostgreSQL.html'>PostgreSQL</a></li><li><a href='/SQLite.html'>SQLite</a></li></ul><h2>JPA & DBMS</h2><ul><li><a href='/DataNucleus/Derby/embedded.html'>DataNucleus & Derby(e)</a></li><li><a href='/DataNucleus/H2/embedded.html'>DataNucleus & H2(e)</a></li><li><a href='/DataNucleus/HSQLDB/embedded.html'>DataNucleus & HSQLDB(e)</a></li><li><a href='/DataNucleus/DB4O/embedded.html'>DataNucleus & DB4O(e)</a></li><li><a href='/DataNucleus/Derby/server.html'>DataNucleus & Derby(s)</a></li><li><a href='/DataNucleus/H2/server.html'>DataNucleus & H2(s)</a></li><li><a href='/DataNucleus/MySQL/server.html'>DataNucleus & MySQL(s)</a></li><li><a href='/DataNucleus/PostgreSQL/server.html'>DataNucleus & PostgreSQL(s)</a></li><li><a href='/EclipseLink/Derby/embedded.html'>EclipseLink & Derby(e)</a></li><li><a href='/EclipseLink/H2/embedded.html'>EclipseLink & H2(e)</a></li><li><a href='/EclipseLink/HSQLDB/embedded.html'>EclipseLink & HSQLDB(e)</a></li><li><a href='/EclipseLink/SQLite/embedded.html'>EclipseLink & SQLite(e)</a></li><li><a href='/EclipseLink/Derby/server.html'>EclipseLink & Derby(s)</a></li><li><a href='/EclipseLink/H2/server.html'>EclipseLink & H2(s)</a></li><li><a href='/EclipseLink/MySQL/server.html'>EclipseLink & MySQL(s)</a></li><li><a href='/EclipseLink/PostgreSQL/server.html'>EclipseLink & PostgreSQL(s)</a></li><li><a href='/Hibernate/Derby/embedded.html'>Hibernate & Derby(e)</a></li><li><a href='/Hibernate/H2/embedded.html'>Hibernate & H2(e)</a></li><li><a href='/Hibernate/HSQLDB/embedded.html'>Hibernate & HSQLDB(e)</a></li><li><a href='/Hibernate/SQLite/embedded.html'>Hibernate & SQLite(e)</a></li><li><a href='/Hibernate/Derby/server.html'>Hibernate & Derby(s)</a></li><li><a href='/Hibernate/H2/server.html'>Hibernate & H2(s)</a></li><li><a href='/Hibernate/MySQL/server.html'>Hibernate & MySQL(s)</a></li><li><a href='/Hibernate/PostgreSQL/server.html'>Hibernate & PostgreSQL(s)</a></li><li><a href='/OpenJPA/Derby/embedded.html'>OpenJPA & Derby(e)</a></li><li><a href='/OpenJPA/H2/embedded.html'>OpenJPA & H2(e)</a></li><li><a href='/OpenJPA/HSQLDB/embedded.html'>OpenJPA & HSQLDB(e)</a></li><li><a href='/OpenJPA/Derby/server.html'>OpenJPA & Derby(s)</a></li><li><a href='/OpenJPA/H2/server.html'>OpenJPA & H2(s)</a></li><li><a href='/OpenJPA/MySQL/server.html'>OpenJPA & MySQL(s)</a></li><li><a href='/OpenJPA/PostgreSQL/server.html'>OpenJPA & PostgreSQL(s)</a></li><li><a href='/ObjectDB/ObjectDB/embedded.html'>ObjectDB(e)</a></li><li><a href='/ObjectDB/ObjectDB/server.html'>ObjectDB(s)</a></li></ul></div><div id='content'><div id='result-link'><a href='/All/All/All.html'>Click to browse the complete benchmark results</a></div><h1>H2 Pure Java Database</h1>

<h2>H2 Performance Summary</h2><p>The following charts show the performance of H2 (in green) relatively to other JPA/DBMS combinations  (in gray). </p>Position #1 on the X-Axis (the fastest) is about <b>100 times faster</b> than position #33 (the slowest).<map name='result_pos_map'><area shape='RECT' coords='26,0,44,300' title='ObjectDB embedded (99.8)' href='/ObjectDB/ObjectDB/embedded.html'/><area shape='RECT' coords='46,0,64,300' title='ObjectDB server (43.9)' href='/ObjectDB/ObjectDB/server.html'/><area shape='RECT' coords='66,0,84,300' title='EclipseLink with H2 embedded (18.4)' href='/EclipseLink/H2/embedded.html'/><area shape='RECT' coords='86,0,104,300' title='EclipseLink with HSQLDB embedded (17.9)' href='/EclipseLink/HSQLDB/embedded.html'/><area shape='RECT' coords='106,0,124,300' title='Hibernate with HSQLDB embedded (13.9)' href='/Hibernate/HSQLDB/embedded.html'/><area shape='RECT' coords='126,0,144,300' title='EclipseLink with Derby embedded (13.6)' href='/EclipseLink/Derby/embedded.html'/><area shape='RECT' coords='146,0,164,300' title='Hibernate with H2 embedded (11.0)' href='/Hibernate/H2/embedded.html'/><area shape='RECT' coords='166,0,184,300' title='EclipseLink with PostgreSQL server (10.5)' href='/EclipseLink/PostgreSQL/server.html'/><area shape='RECT' coords='186,0,204,300' title='OpenJPA with HSQLDB embedded (9.7)' href='/OpenJPA/HSQLDB/embedded.html'/><area shape='RECT' coords='206,0,224,300' title='OpenJPA with H2 embedded (9.5)' href='/OpenJPA/H2/embedded.html'/><area shape='RECT' coords='226,0,244,300' title='Hibernate with PostgreSQL server (9.1)' href='/Hibernate/PostgreSQL/server.html'/><area shape='RECT' coords='246,0,264,300' title='Hibernate with Derby embedded (8.3)' href='/Hibernate/Derby/embedded.html'/><area shape='RECT' coords='266,0,284,300' title='DataNucleus with H2 embedded (7.8)' href='/DataNucleus/H2/embedded.html'/><area shape='RECT' coords='286,0,304,300' title='OpenJPA with Derby embedded (7.4)' href='/OpenJPA/Derby/embedded.html'/><area shape='RECT' coords='306,0,324,300' title='DataNucleus with HSQLDB embedded (7.0)' href='/DataNucleus/HSQLDB/embedded.html'/><area shape='RECT' coords='326,0,344,300' title='DataNucleus with Derby embedded (6.9)' href='/DataNucleus/Derby/embedded.html'/><area shape='RECT' coords='346,0,364,300' title='EclipseLink with Derby server (6.6)' href='/EclipseLink/Derby/server.html'/><area shape='RECT' coords='366,0,384,300' title='OpenJPA with PostgreSQL server (6.5)' href='/OpenJPA/PostgreSQL/server.html'/><area shape='RECT' coords='386,0,404,300' title='DataNucleus with PostgreSQL server (6.0)' href='/DataNucleus/PostgreSQL/server.html'/><area shape='RECT' coords='406,0,424,300' title='Hibernate with Derby server (5.6)' href='/Hibernate/Derby/server.html'/><area shape='RECT' coords='426,0,444,300' title='EclipseLink with H2 server (4.5)' href='/EclipseLink/H2/server.html'/><area shape='RECT' coords='446,0,464,300' title='OpenJPA with Derby server (4.2)' href='/OpenJPA/Derby/server.html'/><area shape='RECT' coords='466,0,484,300' title='Hibernate with H2 server (3.4)' href='/Hibernate/H2/server.html'/><area shape='RECT' coords='486,0,504,300' title='DataNucleus with Derby server (3.3)' href='/DataNucleus/Derby/server.html'/><area shape='RECT' coords='506,0,524,300' title='OpenJPA with H2 server (3.0)' href='/OpenJPA/H2/server.html'/><area shape='RECT' coords='526,0,544,300' title='DataNucleus with H2 server (2.9)' href='/DataNucleus/H2/server.html'/><area shape='RECT' coords='546,0,564,300' title='OpenJPA with MySQL server (2.8)' href='/OpenJPA/MySQL/server.html'/><area shape='RECT' coords='566,0,584,300' title='Hibernate with MySQL server (2.7)' href='/Hibernate/MySQL/server.html'/><area shape='RECT' coords='586,0,604,300' title='EclipseLink with MySQL server (2.3)' href='/EclipseLink/MySQL/server.html'/><area shape='RECT' coords='606,0,624,300' title='DataNucleus with MySQL server (2.1)' href='/DataNucleus/MySQL/server.html'/><area shape='RECT' coords='626,0,644,300' title='DataNucleus with DB4O embedded (0.73)' href='/DataNucleus/DB4O/embedded.html'/><area shape='RECT' coords='646,0,664,300' title='Hibernate with SQLite embedded (0.62)' href='/Hibernate/SQLite/embedded.html'/><area shape='RECT' coords='666,0,684,300' title='EclipseLink with SQLite embedded (0.52)' href='/EclipseLink/SQLite/embedded.html'/></map>
<div id='result-chart'>
<div class='result-chart-header'>In the chart below the Y-Axis represents result score (maximum 100) in <b>logarithmic scale</b> - higher is better:</div>
<img width='686' height='300' alt='JPA performance benchmark comparision Hibernate, EclipseLink, OpenJPA, DataNucleus, ObjectDB' usemap='#result_pos_map' src='http://chart.apis.google.com/chart?&chs=686x300&cht=bvg&chxt=y,x&chbh=a&chg=0,16.63,6,3&chxs=0,000000|1,000000&chxr=0,0,3,1|1,1,33&chxl=0:||1|10|100&chd=t:99.97097893466798,88.06595410161113,75.49872525770483,75.08727720513872,71.42071154040043,71.1649822055339,68.00979990765829,67.3182287702238,66.26842684175779,65.91045510630353,65.28606024875525,63.916968727541416,63.058147578074376,62.35665283214149,61.41379148565266,61.19603992847706,60.58448738162425,60.4867058833404,59.227242651915134,58.189480649370886,54.954469579360556,54.02212089024888,51.080302453409416,50.63499623738529,49.46330486965578,48.589746754478874,48.275729668994394,47.47663275742113,45.301525363623874,44.20289265926832,28.721081612580907,26.43565253631617,23.924863345399174&chco=DDDDDD|DDDDDD|00FF00|DDDDDD|DDDDDD|DDDDDD|00FF00|DDDDDD|DDDDDD|00FF00|DDDDDD|DDDDDD|00FF00|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|00FF00|DDDDDD|00FF00|DDDDDD|00FF00|00FF00|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD&chm=a,990066,0,2,5,,::5|a,990066,0,6,5,,::5|a,990066,0,9,5,,::5|a,990066,0,12,5,,::5|a,990066,0,20,5,,::5|a,990066,0,22,5,,::5|a,990066,0,24,5,,::5|a,990066,0,25,5,,::5'/>

<div id='result-chart-footer'>Move the cursor over bars - for details. Click a bar - to switch a page.</div>
</div>
<map name='result_pos_map'><area shape='RECT' coords='26,0,44,300' title='ObjectDB embedded (99.8)' href='/ObjectDB/ObjectDB/embedded.html'/><area shape='RECT' coords='46,0,64,300' title='ObjectDB server (43.9)' href='/ObjectDB/ObjectDB/server.html'/><area shape='RECT' coords='66,0,84,300' title='EclipseLink with H2 embedded (18.4)' href='/EclipseLink/H2/embedded.html'/><area shape='RECT' coords='86,0,104,300' title='EclipseLink with HSQLDB embedded (17.9)' href='/EclipseLink/HSQLDB/embedded.html'/><area shape='RECT' coords='106,0,124,300' title='Hibernate with HSQLDB embedded (13.9)' href='/Hibernate/HSQLDB/embedded.html'/><area shape='RECT' coords='126,0,144,300' title='EclipseLink with Derby embedded (13.6)' href='/EclipseLink/Derby/embedded.html'/><area shape='RECT' coords='146,0,164,300' title='Hibernate with H2 embedded (11.0)' href='/Hibernate/H2/embedded.html'/><area shape='RECT' coords='166,0,184,300' title='EclipseLink with PostgreSQL server (10.5)' href='/EclipseLink/PostgreSQL/server.html'/><area shape='RECT' coords='186,0,204,300' title='OpenJPA with HSQLDB embedded (9.7)' href='/OpenJPA/HSQLDB/embedded.html'/><area shape='RECT' coords='206,0,224,300' title='OpenJPA with H2 embedded (9.5)' href='/OpenJPA/H2/embedded.html'/><area shape='RECT' coords='226,0,244,300' title='Hibernate with PostgreSQL server (9.1)' href='/Hibernate/PostgreSQL/server.html'/><area shape='RECT' coords='246,0,264,300' title='Hibernate with Derby embedded (8.3)' href='/Hibernate/Derby/embedded.html'/><area shape='RECT' coords='266,0,284,300' title='DataNucleus with H2 embedded (7.8)' href='/DataNucleus/H2/embedded.html'/><area shape='RECT' coords='286,0,304,300' title='OpenJPA with Derby embedded (7.4)' href='/OpenJPA/Derby/embedded.html'/><area shape='RECT' coords='306,0,324,300' title='DataNucleus with HSQLDB embedded (7.0)' href='/DataNucleus/HSQLDB/embedded.html'/><area shape='RECT' coords='326,0,344,300' title='DataNucleus with Derby embedded (6.9)' href='/DataNucleus/Derby/embedded.html'/><area shape='RECT' coords='346,0,364,300' title='EclipseLink with Derby server (6.6)' href='/EclipseLink/Derby/server.html'/><area shape='RECT' coords='366,0,384,300' title='OpenJPA with PostgreSQL server (6.5)' href='/OpenJPA/PostgreSQL/server.html'/><area shape='RECT' coords='386,0,404,300' title='DataNucleus with PostgreSQL server (6.0)' href='/DataNucleus/PostgreSQL/server.html'/><area shape='RECT' coords='406,0,424,300' title='Hibernate with Derby server (5.6)' href='/Hibernate/Derby/server.html'/><area shape='RECT' coords='426,0,444,300' title='EclipseLink with H2 server (4.5)' href='/EclipseLink/H2/server.html'/><area shape='RECT' coords='446,0,464,300' title='OpenJPA with Derby server (4.2)' href='/OpenJPA/Derby/server.html'/><area shape='RECT' coords='466,0,484,300' title='Hibernate with H2 server (3.4)' href='/Hibernate/H2/server.html'/><area shape='RECT' coords='486,0,504,300' title='DataNucleus with Derby server (3.3)' href='/DataNucleus/Derby/server.html'/><area shape='RECT' coords='506,0,524,300' title='OpenJPA with H2 server (3.0)' href='/OpenJPA/H2/server.html'/><area shape='RECT' coords='526,0,544,300' title='DataNucleus with H2 server (2.9)' href='/DataNucleus/H2/server.html'/><area shape='RECT' coords='546,0,564,300' title='OpenJPA with MySQL server (2.8)' href='/OpenJPA/MySQL/server.html'/><area shape='RECT' coords='566,0,584,300' title='Hibernate with MySQL server (2.7)' href='/Hibernate/MySQL/server.html'/><area shape='RECT' coords='586,0,604,300' title='EclipseLink with MySQL server (2.3)' href='/EclipseLink/MySQL/server.html'/><area shape='RECT' coords='606,0,624,300' title='DataNucleus with MySQL server (2.1)' href='/DataNucleus/MySQL/server.html'/><area shape='RECT' coords='626,0,644,300' title='DataNucleus with DB4O embedded (0.73)' href='/DataNucleus/DB4O/embedded.html'/><area shape='RECT' coords='646,0,664,300' title='Hibernate with SQLite embedded (0.62)' href='/Hibernate/SQLite/embedded.html'/><area shape='RECT' coords='666,0,684,300' title='EclipseLink with SQLite embedded (0.52)' href='/EclipseLink/SQLite/embedded.html'/></map>
<div id='result-chart'>
<div class='result-chart-header'>In the chart below the Y-Axis represents result score (maximum 100) in <b>linear scale</b> - higher is better:</div>
<img width='686' height='300' alt='JPA performance benchmark comparision Hibernate, EclipseLink, OpenJPA, DataNucleus, ObjectDB' usemap='#result_pos_map' src='http://chart.apis.google.com/chart?&chs=686x300&cht=bvg&chxt=y,x&chbh=a&chg=0,10,6,3&chxs=0,000000|1,000000&chxr=0,0,100|1,1,33&chd=t:99.79973039048294,43.850911283847545,18.40609917442014,17.890328543335798,13.887412838974148,13.644243650437907,10.972207123438766,10.46036558298668,9.72865505928901,9.49103670997233,9.090375171034784,8.270067644017672,7.7937133282520135,7.425053461128081,6.956867703034023,6.853007353887374,6.569534859532277,6.525310418181308,5.981598786845587,5.567810164186271,4.45280921116679,4.175068705690523,3.4072898034745136,3.304074925484445,3.0471872752739793,2.868748016707017,2.8071905296353656,2.6564337096782014,2.2858396459213326,2.1187844638524247,1.0,1.0,1.0&chco=DDDDDD|DDDDDD|00FF00|DDDDDD|DDDDDD|DDDDDD|00FF00|DDDDDD|DDDDDD|00FF00|DDDDDD|DDDDDD|00FF00|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|00FF00|DDDDDD|00FF00|DDDDDD|00FF00|00FF00|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD|DDDDDD&chm=a,990066,0,2,5,,::5|a,990066,0,6,5,,::5|a,990066,0,9,5,,::5|a,990066,0,12,5,,::5|a,990066,0,20,5,,::5|a,990066,0,22,5,,::5|a,990066,0,24,5,,::5|a,990066,0,25,5,,::5'/>

<div id='result-chart-footer'>Move the cursor over bars - for details. Click a bar - to switch a page.</div>
</div>
<p><br/>The configurations in which H2 has been tested are listed in the following table:</p><table id='product-table' class='result'><tr><th class='num'>&nbsp;</th><th class='team'>Database + JPA Provider</th><th class='score'>Normalized Score<br/>100 - Best,&nbsp;&nbsp;0 - Worst</th><th class='position'>Final Position<br/>1 - Best,&nbsp;&nbsp;33 - Worst</th><th class='failures'>Failed Tests</th></tr><tr><th class='num'>1</th><td class='team'><a href='/EclipseLink/H2/embedded.html'>EclipseLink with H2 embedded</a></td><td class='score'><b>18.4</b></td><td class='position'><b>3</b>&nbsp;&nbsp;(out of 33)</td><td class='failures'><b>0</b></td></tr><tr><th class='num'>2</th><td class='team'><a href='/Hibernate/H2/embedded.html'>Hibernate with H2 embedded</a></td><td class='score'><b>11.0</b></td><td class='position'><b>7</b>&nbsp;&nbsp;(out of 33)</td><td class='failures'><b>0</b></td></tr><tr><th class='num'>3</th><td class='team'><a href='/OpenJPA/H2/embedded.html'>OpenJPA with H2 embedded</a></td><td class='score'><b>9.5</b></td><td class='position'><b>10</b>&nbsp;&nbsp;(out of 33)</td><td class='failures'><b>0</b></td></tr><tr><th class='num'>4</th><td class='team'><a href='/DataNucleus/H2/embedded.html'>DataNucleus with H2 embedded</a></td><td class='score'><b>7.8</b></td><td class='position'><b>13</b>&nbsp;&nbsp;(out of 33)</td><td class='failures'><b>4</b></td></tr><tr><th class='num'>5</th><td class='team'><a href='/EclipseLink/H2/server.html'>EclipseLink with H2 server</a></td><td class='score'><b>4.5</b></td><td class='position'><b>21</b>&nbsp;&nbsp;(out of 33)</td><td class='failures'><b>0</b></td></tr><tr><th class='num'>6</th><td class='team'><a href='/Hibernate/H2/server.html'>Hibernate with H2 server</a></td><td class='score'><b>3.4</b></td><td class='position'><b>23</b>&nbsp;&nbsp;(out of 33)</td><td class='failures'><b>0</b></td></tr><tr><th class='num'>7</th><td class='team'><a href='/OpenJPA/H2/server.html'>OpenJPA with H2 server</a></td><td class='score'><b>3.0</b></td><td class='position'><b>25</b>&nbsp;&nbsp;(out of 33)</td><td class='failures'><b>0</b></td></tr><tr><th class='num'>8</th><td class='team'><a href='/DataNucleus/H2/server.html'>DataNucleus with H2 server</a></td><td class='score'><b>2.9</b></td><td class='position'><b>26</b>&nbsp;&nbsp;(out of 33)</td><td class='failures'><b>4</b></td></tr></table><!--auto-->

<p>
As shown above, the performance and stability are highly dependent on the JPA provider.
H2 is faster and more stable
<br/>
(in both client-server and embedded modes) when used with EclipseLink or Hibernate.

<h2>About H2 Database</h2>
<p>
H2 Database is a popular pure Java RDBMS. Its first version was released in 2005.

<p>
H2 is available under a modified version of the Mozilla Public License (MPL) license
or under the Eclipse Public License (EPL).

<p>
In this benchmark H2 version 1.3.164 (which was released in February 2012) has been tested.

<p>
Both client-server and embedded mode are supported by H2 and were tested in this benchmark.

<h2>Solved Problems and Issues</h2>

<p>
The stack traces below demonstrate some exceptions that have been thrown when using H2 database in
previous runs of this benchmark and have been fixed by upgrading software and setting.  

<div id="result-failures">
<pre>
org.apache.openjpa.persistence.RollbackException: Unique index or primary key violation: "PRIMARY_KEY_2C ON PUBLIC.OPENJPA_SEQUENCES_TABLE(ID)"; SQL statement:
INSERT INTO OPENJPA_SEQUENCES_TABLE (ID, SEQUENCE_VALUE) VALUES (?, ?) [23001-141] {prepstmnt 28057122 INSERT INTO OPENJPA_SEQUENCES_TABLE (ID, SEQUENCE_VALUE) VALUES (?, ?) [params=(String) DEFAULT, (int) 0]} [code=23001, state=23001]
	at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:583)
	at org.jpab.Test.persist(Test.java:216)
	at org.jpab.Test.persist(Test.java:199)
	at org.jpab.Runner$PersistAction.run0(Runner.java:528)
	at org.jpab.Runner$TestAction.run(Runner.java:507)
	at java.lang.Thread.run(Thread.java:619)
Caused by:  org.apache.openjpa.persistence.EntityExistsException: Unique index or primary key violation: "PRIMARY_KEY_2C ON PUBLIC.OPENJPA_SEQUENCES_TABLE(ID)"; SQL statement:
INSERT INTO OPENJPA_SEQUENCES_TABLE (ID, SEQUENCE_VALUE) VALUES (?, ?) [23001-141] {prepstmnt 28057122 INSERT INTO OPENJPA_SEQUENCES_TABLE (ID, SEQUENCE_VALUE) VALUES (?, ?) [params=(String) DEFAULT, (int) 0]} [code=23001, state=23001]
	at org.apache.openjpa.jdbc.sql.DBDictionary.narrow(DBDictionary.java:4812)
	at org.apache.openjpa.jdbc.sql.DBDictionary.newStoreException(DBDictionary.java:4787)
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:136)
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:110)
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:62)
	at org.apache.openjpa.jdbc.kernel.AbstractJDBCSeq.next(AbstractJDBCSeq.java:66)
	at org.apache.openjpa.util.ImplHelper.generateValue(ImplHelper.java:160)
	at org.apache.openjpa.util.ImplHelper.generateFieldValue(ImplHelper.java:144)
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.assignField(JDBCStoreManager.java:794)
	at org.apache.openjpa.util.ApplicationIds.assign(ApplicationIds.java:487)
	at org.apache.openjpa.util.ApplicationIds.assign(ApplicationIds.java:463)
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.assignObjectId(JDBCStoreManager.java:778)
	at org.apache.openjpa.kernel.DelegatingStoreManager.assignObjectId(DelegatingStoreManager.java:135)
	at org.apache.openjpa.kernel.StateManagerImpl.assignObjectId(StateManagerImpl.java:605)
	at org.apache.openjpa.kernel.StateManagerImpl.preFlush(StateManagerImpl.java:2952)
	at org.apache.openjpa.kernel.PNewState.beforeFlush(PNewState.java:40)
	at org.apache.openjpa.kernel.StateManagerImpl.beforeFlush(StateManagerImpl.java:1047)
	at org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:2077)
	at org.apache.openjpa.kernel.BrokerImpl.flushSafe(BrokerImpl.java:2037)
	at org.apache.openjpa.kernel.BrokerImpl.beforeCompletion(BrokerImpl.java:1955)
	at org.apache.openjpa.kernel.LocalManagedRuntime.commit(LocalManagedRuntime.java:81)
	at org.apache.openjpa.kernel.BrokerImpl.commit(BrokerImpl.java:1479)
	at org.apache.openjpa.kernel.DelegatingBroker.commit(DelegatingBroker.java:925)
	at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:559)
	... 5 more
Caused by: org.apache.openjpa.lib.jdbc.ReportingSQLException: Unique index or primary key violation: "PRIMARY_KEY_2C ON PUBLIC.OPENJPA_SEQUENCES_TABLE(ID)"; SQL statement:
INSERT INTO OPENJPA_SEQUENCES_TABLE (ID, SEQUENCE_VALUE) VALUES (?, ?) [23001-141] {prepstmnt 28057122 INSERT INTO OPENJPA_SEQUENCES_TABLE (ID, SEQUENCE_VALUE) VALUES (?, ?) [params=(String) DEFAULT, (int) 0]} [code=23001, state=23001]
	at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator.wrap(LoggingConnectionDecorator.java:257)
	at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator.wrap(LoggingConnectionDecorator.java:233)
	at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator.access$1000(LoggingConnectionDecorator.java:70)
	at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator$LoggingConnection$LoggingPreparedStatement.executeUpdate(LoggingConnectionDecorator.java:1079)
	at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:285)
	at org.apache.openjpa.jdbc.kernel.TableJDBCSeq.executeUpdate(TableJDBCSeq.java:816)
	at org.apache.openjpa.jdbc.kernel.TableJDBCSeq.insertSequence(TableJDBCSeq.java:501)
	at org.apache.openjpa.jdbc.kernel.TableJDBCSeq.access$100(TableJDBCSeq.java:74)
	at org.apache.openjpa.jdbc.kernel.TableJDBCSeq$AllocateSequenceRunnable.run(TableJDBCSeq.java:902)
	at org.apache.openjpa.jdbc.kernel.TableJDBCSeq.allocateSequence(TableJDBCSeq.java:454)
	at org.apache.openjpa.jdbc.kernel.TableJDBCSeq.nextInternal(TableJDBCSeq.java:305)
	at org.apache.openjpa.jdbc.kernel.AbstractJDBCSeq.next(AbstractJDBCSeq.java:60)
	... 23 more
</pre>

<pre>
org.apache.openjpa.persistence.ArgumentException: Failed to execute query "SELECT o FROM Person o WHERE o.lastName LIKE :pattern". Check the query syntax for correctness. See nested exception for details.
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:870)
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:792)
	at org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:542)
	at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:288)
	at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:302)
	at org.jpab.Test.query(Test.java:314)
	at org.jpab.Runner$QueryAction.run0(Runner.java:552)
	at org.jpab.Runner$TestAction.run(Runner.java:507)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer
	at org.apache.openjpa.jdbc.kernel.PreparedSQLStoreQuery$PreparedSQLExecutor.toParameterArray(PreparedSQLStoreQuery.java:157)
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:855)
	... 8 more
</pre>

<pre>
javax.persistence.RollbackException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.1.1.v20100817-r8050): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.h2.jdbc.JdbcBatchUpdateException: Referential integrity constraint violation: "FK_NODE_CHILD1_ID: PUBLIC.NODE FOREIGN KEY(CHILD1_ID) REFERENCES PUBLIC.NODE(ID)"; SQL statement:
DELETE FROM NODE WHERE (ID = ?) [23003-147]
Error Code: 23003
	at org.eclipse.persistence.internal.jpa.transaction.EntityTransactionImpl.commitInternal(EntityTransactionImpl.java:102)
	at org.eclipse.persistence.internal.jpa.transaction.EntityTransactionImpl.commit(EntityTransactionImpl.java:63)
	at org.jpab.Test.doAction(Test.java:272)
	at org.jpab.Runner$RemoveAction.run0(Runner.java:578)
	at org.jpab.Runner$TestAction.run(Runner.java:508)
	at java.lang.Thread.run(Thread.java:619)
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.1.1.v20100817-r8050): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.h2.jdbc.JdbcBatchUpdateException: Referential integrity constraint violation: "FK_NODE_CHILD1_ID: PUBLIC.NODE FOREIGN KEY(CHILD1_ID) REFERENCES PUBLIC.NODE(ID)"; SQL statement:
DELETE FROM NODE WHERE (ID = ?) [23003-147]
Error Code: 23003
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:324)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeJDK12BatchStatement(DatabaseAccessor.java:830)
	at org.eclipse.persistence.internal.databaseaccess.ParameterizedSQLBatchWritingMechanism.executeBatchedStatements(ParameterizedSQLBatchWritingMechanism.java:139)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.writesCompleted(DatabaseAccessor.java:1632)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.commitTransaction(DatabaseAccessor.java:399)
	at org.eclipse.persistence.internal.sessions.AbstractSession.basicCommitTransaction(AbstractSession.java:504)
	at org.eclipse.persistence.sessions.server.ClientSession.basicCommitTransaction(ClientSession.java:155)
	at org.eclipse.persistence.internal.sessions.AbstractSession.commitTransaction(AbstractSession.java:686)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitTransaction(UnitOfWorkImpl.java:1581)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.commitTransaction(RepeatableWriteUnitOfWork.java:559)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitTransactionAfterWriteChanges(UnitOfWorkImpl.java:1604)
	at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.commitRootUnitOfWork(RepeatableWriteUnitOfWork.java:207)
	at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitAndResume(UnitOfWorkImpl.java:1148)
	at org.eclipse.persistence.internal.jpa.transaction.EntityTransactionImpl.commitInternal(EntityTransactionImpl.java:84)
	... 5 more
Caused by: org.h2.jdbc.JdbcBatchUpdateException: Referential integrity constraint violation: "FK_NODE_CHILD1_ID: PUBLIC.NODE FOREIGN KEY(CHILD1_ID) REFERENCES PUBLIC.NODE(ID)"; SQL statement:
DELETE FROM NODE WHERE (ID = ?) [23003-147]
	at org.h2.jdbc.JdbcPreparedStatement.executeBatch(JdbcPreparedStatement.java:1105)
	at org.eclipse.persistence.internal.databaseaccess.DatabasePlatform.executeBatch(DatabasePlatform.java:1964)
	at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeJDK12BatchStatement(DatabaseAccessor.java:817)
	... 17 more
</pre>
</div></div><div class='clear'></div></div>
<div id='footer'>
<p>JPA Performance Benchmark - Copyright &copy; 2010, 2011, 2012 ObjectDB Software Ltd. - All rights reserved.<br/>The benchmark program is <a href='/Download.html'>released as open source</a> under the GPL license.</p>
</div>

<script type='text/javascript'>var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-634683-5']);_gaq.push(['_trackPageview']);(function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script><script src='http://static.getclicky.com/js' type='text/javascript'></script><script type='text/javascript'>try{ clicky.init(66377893); }catch(err){}</script><noscript><p><img alt='Clicky' width='1' height='1' src='http://in.getclicky.com/66377893ns.gif' /></p></noscript><script type='text/javascript' src='http://s7.addthis.com/js/250/addthis_widget.js#username=jpab'></script></div>

<!--[if IE 7]></div><![endif]--><!--[if IE 6]></div><![endif]--><!--[if IE]></div><![endif]--></body>
</html>